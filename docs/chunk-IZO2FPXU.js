import{a as x,b as Q}from"./chunk-ZPKG56YL.js";import{b as H,d as B,e as G}from"./chunk-AKTZCWVN.js";import{$ as F,B as r,C as s,D as y,G as R,H as S,L as M,M as m,N as h,R as _,S as P,T as b,U as E,W as L,Y as I,b as v,ga as q,ha as T,ia as V,ja as W,ka as U,la as k,ma as A,na as D,oa as N,p as w,qa as j,s as u,t as p,ua as z,w as d,x as g,z as C}from"./chunk-P3KF6TGU.js";var f;(function(t){class a{}t.LoginReqModel=a;class Y{}t.RefreshTokenReqModel=Y;class c{}t.CurrentUserResModel=c;class i{}t.RefreshTokenResModel=i;class n{constructor(l,o){this.username=l,this.password=o}}t.LoginModel=n})(f||(f={}));var O=function(t){return t.FILL_REQUIRED_FIELDS="Please Fill Required Fields",t}(O||{});var J=t=>({"form-submitted":t}),ge=(()=>{let a=class a{constructor(c,i,n,e){this.Router=c,this.ActivatedRoute=i,this.HttpService=n,this.AuthService=e,this.RoutePaths=x,this.Year=Q.GetYear(),this.showPW=!1,this.PWInputType="password",this.Credentials=new f.LoginModel("","")}ngOnInit(){return v(this,null,function*(){this.AuthService.SignOut()})}Login(c){if(c.invalid){this.Error=O.FILL_REQUIRED_FIELDS;return}let i={username:this.Credentials.username.trim(),password:this.Credentials.password.trim(),expiresInMins:1};this.ReturnUrl=this.ActivatedRoute.snapshot.queryParams.returnUrl;let n=H.Account.Login;this.HttpService.Post(n,i).subscribe({next:e=>{this.AuthService.SignIn(e);let l=this.ReturnUrl?this.ReturnUrl:x.Products;this.Router.navigateByUrl(l)},error:e=>{console.log(e),this.Error=e.error.Message}})}};a.\u0275fac=function(i){return new(i||a)(g(j),g(N),g(B),g(G))},a.\u0275cmp=w({type:a,selectors:[["ng-component"]],standalone:!0,features:[E],decls:23,vars:8,consts:[["frm","ngForm"],["Email","ngModel"],["Password","ngModel"],[1,"account-bg"],[1,"account"],[1,"account-box"],["src","/assets/Images/logo.png","alt","logo-img",1,"logo-img"],["name","form","novalidate","",1,"login-form",3,"ngSubmit","ngClass"],[1,"form-group"],["for","Email"],["type","text","id","Email","name","Email","placeholder","Enter your email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","Password"],["id","Password","name","Password","placeholder","Password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"submit"],["type","submit",1,"btn","btn-primary"]],template:function(i,n){if(i&1){let e=R();r(0,"div",3)(1,"div",4)(2,"div",5),y(3,"img",6),r(4,"h1"),m(5,"Log in to your account"),s(),r(6,"h4"),m(7,"Welcome back! Please enter your details."),s(),r(8,"form",7,0),S("ngSubmit",function(){u(e);let o=M(9);return p(n.Login(o))}),r(10,"div",8)(11,"label",9),m(12),s(),r(13,"input",10,1),b("ngModelChange",function(o){return u(e),P(n.Credentials.username,o)||(n.Credentials.username=o),p(o)}),s()(),r(15,"div",8)(16,"label",11),m(17),s(),r(18,"input",12,2),b("ngModelChange",function(o){return u(e),P(n.Credentials.password,o)||(n.Credentials.password=o),p(o)}),s()(),r(20,"div",13)(21,"button",14),m(22,"Sign in"),s()()()()()()}if(i&2){let e=M(9);d(8),C("ngClass",L(6,J,e.submitted)),d(4),h("Email"),d(),_("ngModel",n.Credentials.username),d(4),h("Password"),d(),C("type",n.PWInputType),_("ngModel",n.Credentials.password)}},dependencies:[D,k,q,T,V,A,U,W,F,I,z],styles:[".account-bg[_ngcontent-%COMP%]{background-size:cover;background-position:center}.account[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:calc(100vh - var(--header-height));color:var(--primary-font-color)}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]{width:50%;max-width:450px;min-width:400px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;margin:20px 0;z-index:1}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--secondary-font-color)}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:90%;padding:20px;z-index:2}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{padding-bottom:20px;display:flex;flex-direction:column}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px;margin-bottom:1px;border-radius:8px;border:1px solid var(--secondary-font-color);outline:none}.account[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:8px}"]});let t=a;return t})();export{ge as LoginComponent};
